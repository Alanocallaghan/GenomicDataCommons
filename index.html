<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NIH / NCI Genomic Data Commons Access • GenomicDataCommons</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="NIH / NCI Genomic Data Commons Access">
<meta property="og:description" content="Programmatically access the NIH / NCI Genomic Data Commons
        RESTful service.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93043521-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93043521-1');
</script>
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">GenomicDataCommons</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/overview.html">The GenomicDataCommons Package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Bioconductor/GenomicDataCommons">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    
<div id="what-is-the-gdc" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#what-is-the-gdc" class="anchor"></a>What is the GDC?</h1></div>
<p>From the <a href="https://gdc.nci.nih.gov/about-gdc">Genomic Data Commons (GDC) website</a>:</p>
<p>The National Cancer Institute’s (NCI’s) Genomic Data Commons (GDC) is a data sharing platform that promotes precision medicine in oncology. It is not just a database or a tool; it is an expandable knowledge network supporting the import and standardization of genomic and clinical data from cancer research programs.</p>
<p>The GDC contains NCI-generated data from some of the largest and most comprehensive cancer genomic datasets, including The Cancer Genome Atlas (TCGA) and Therapeutically Applicable Research to Generate Effective Therapies (TARGET). For the first time, these datasets have been harmonized using a common set of bioinformatics pipelines, so that the data can be directly compared.</p>
<p>As a growing knowledge system for cancer, the GDC also enables researchers to submit data, and harmonizes these data for import into the GDC. As more researchers add clinical and genomic data to the GDC, it will become an even more powerful tool for making discoveries about the molecular basis of cancer that may lead to better care for patients.</p>
<p>The <a href="https://gdc.cancer.gov/developers/gdc-data-model/gdc-data-model-components">data model for the GDC is complex</a>, but it worth a quick overview. The data model is encoded as a so-called property graph. Nodes represent entities such as Projects, Cases, Diagnoses, Files (various kinds), and Annotations. The relationships between these entities are maintained as edges. Both nodes and edges may have Properties that supply instance details. The GDC API exposes these nodes and edges in a somewhat simplified set of <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> endpoints.</p>
</div>
<div id="quickstart" class="section level1">
<h1 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h1>
<p>This software is available at Bioconductor.org and can be downloaded via <code><a href="http://www.rdocumentation.org/packages/BiocManager/topics/install">BiocManager::install</a></code>.</p>
<p>To report bugs or problems, either <a href="https://github.com/Bioconductor/GenomicDataCommons/issues">submit a new issue</a> or submit a <code>bug.report(package='GenomicDataCommons')</code> from within R (which will redirect you to the new issue on GitHub).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Installation can be achieved via Bioconductor’s <code>BiocManager</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">"BiocManager"</span>))</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="kw">install.packages</span>(<span class="st">"BiocManager"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">BiocManager<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/BiocManager/topics/install">install</a></span>(<span class="st">'GenomicDataCommons'</span>)</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(GenomicDataCommons)</a></code></pre></div>
</div>
<div id="check-basic-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#check-basic-functionality" class="anchor"></a>Check basic functionality</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">GenomicDataCommons<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/GenomicDataCommons/topics/status">status</a></span>()</a></code></pre></div>
</div>
<div id="find-data" class="section level2">
<h2 class="hasAnchor">
<a href="#find-data" class="anchor"></a>Find data</h2>
<p>The following code builds a <code>manifest</code> that can be used to guide the download of raw data. Here, filtering finds gene expression files quantified as raw counts using <code>HTSeq</code> from ovarian cancer patients.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">ge_manifest =<span class="st"> </span><span class="kw"><a href="reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">    </span><span class="kw"><a href="reference/filtering.html">filter</a></span>( <span class="op">~</span><span class="st"> </span>cases.project.project_id <span class="op">==</span><span class="st"> 'TCGA-OV'</span> <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">                </span>type <span class="op">==</span><span class="st"> 'gene_expression'</span> <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">                </span>analysis.workflow_type <span class="op">==</span><span class="st"> 'HTSeq - Counts'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="reference/manifest.html">manifest</a></span>()</a></code></pre></div>
</div>
<div id="download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#download-data" class="anchor"></a>Download data</h2>
<p>This code block downloads the <code>r nrow(ge_manifest)</code> gene expression files specified in the query above. Using multiple processes to do the download very significantly speeds up the transfer in many cases. On a standard 1Gb connection using 10 processes, the following completes in about 15 seconds.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(BiocParallel)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="http://www.rdocumentation.org/packages/BiocParallel/topics/register">register</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/BiocParallel/topics/MulticoreParam-class">MulticoreParam</a></span>())</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">destdir =<span class="st"> </span><span class="kw">tempdir</span>()</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">fnames =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/BiocParallel/topics/bplapply">bplapply</a></span>(ge_manifest<span class="op">$</span>id,gdcdata,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                  <span class="dt">destination_dir=</span>destdir,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">                  <span class="dt">BPPARAM =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/BiocParallel/topics/MulticoreParam-class">MulticoreParam</a></span>(<span class="dt">progressbar=</span><span class="ot">TRUE</span>))</a></code></pre></div>
<p>If the download had included controlled-access data, the download above would have needed to include a <code>token</code>. Details are available in <a href="#authentication">the authentication section below</a>.</p>
</div>
<div id="metadata-queries" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata-queries" class="anchor"></a>Metadata queries</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">expands =<span class="st"> </span><span class="kw">c</span>(<span class="st">"diagnoses"</span>,<span class="st">"annotations"</span>,</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">             <span class="st">"demographic"</span>,<span class="st">"exposures"</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">clinResults =<span class="st"> </span><span class="kw"><a href="reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/GenomicDataCommons/topics/select">select</a></span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/GenomicDataCommons/topics/expand">expand</a></span>(expands) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="reference/results.html">results</a></span>(<span class="dt">size=</span><span class="dv">50</span>)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">clinDF =<span class="st"> </span><span class="kw">as.data.frame</span>(clinResults)</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="kw">library</span>(DT)</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="kw"><a href="http://www.rdocumentation.org/packages/DT/topics/datatable">datatable</a></span>(clinDF, <span class="dt">extensions =</span> <span class="st">'Scroller'</span>, <span class="dt">options =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  <span class="dt">deferRender =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">  <span class="dt">scrollY =</span> <span class="dv">200</span>,</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">  <span class="dt">scrollX =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb6-13" data-line-number="13">  <span class="dt">scroller =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14">))</a></code></pre></div>
</div>
</div>
<div id="basic-design" class="section level1">
<h1 class="hasAnchor">
<a href="#basic-design" class="anchor"></a>Basic design</h1>
<p>This package design is meant to have some similarities to the “hadleyverse” approach of dplyr. Roughly, the functionality for finding and accessing files and metadata can be divided into:</p>
<ol>
<li>Simple query constructors based on GDC API endpoints.</li>
<li>A set of verbs that when applied, adjust filtering, field selection, and faceting (fields for aggregation) and result in a new query object (an endomorphism)</li>
<li>A set of verbs that take a query and return results from the GDC</li>
</ol>
<p>In addition, there are exhiliary functions for asking the GDC API for information about available and default fields, slicing BAM files, and downloading actual data files. Here is an overview of functionality[^1].</p>
<ul>
<li>Creating a query
<ul>
<li><code><a href="reference/query.html">projects()</a></code></li>
<li><code><a href="reference/query.html">cases()</a></code></li>
<li><code><a href="reference/query.html">files()</a></code></li>
<li><code><a href="reference/query.html">annotations()</a></code></li>
</ul>
</li>
<li>Manipulating a query
<ul>
<li><code><a href="reference/filtering.html">filter()</a></code></li>
<li><code><a href="reference/faceting.html">facet()</a></code></li>
<li><code><a href="reference/select.html">select()</a></code></li>
</ul>
</li>
<li>Introspection on the GDC API fields
<ul>
<li><code><a href="reference/mapping.html">mapping()</a></code></li>
<li><code><a href="reference/available_fields.html">available_fields()</a></code></li>
<li><code><a href="reference/default_fields.html">default_fields()</a></code></li>
<li><code><a href="reference/grep_fields.html">grep_fields()</a></code></li>
<li><code>field_picker()</code></li>
<li><code><a href="reference/available_values.html">available_values()</a></code></li>
<li><code><a href="reference/available_expand.html">available_expand()</a></code></li>
</ul>
</li>
<li>Executing an API call to retrieve query results
<ul>
<li><code><a href="reference/results.html">results()</a></code></li>
<li><code><a href="reference/count.html">count()</a></code></li>
<li><code><a href="reference/response.html">response()</a></code></li>
</ul>
</li>
<li>Raw data file downloads
<ul>
<li><code><a href="reference/gdcdata.html">gdcdata()</a></code></li>
<li><code><a href="reference/transfer.html">transfer()</a></code></li>
<li><code><a href="reference/gdc_client.html">gdc_client()</a></code></li>
</ul>
</li>
<li>Summarizing and aggregating field values (faceting)
<ul>
<li><code><a href="reference/aggregations.html">aggregations()</a></code></li>
</ul>
</li>
<li>Authentication
<ul>
<li><code><a href="reference/gdc_token.html">gdc_token()</a></code></li>
</ul>
</li>
<li>BAM file slicing
<ul>
<li><code><a href="reference/slicing.html">slicing()</a></code></li>
</ul>
</li>
</ul>
</div>

  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from BIOC at <br><a href="https://www.bioconductor.org/packages/GenomicDataCommons">https://​www.bioconductor.org/​packages/​GenomicDataCommons</a>
</li>
<li>Browse source code at <br><a href="https://github.com/Bioconductor/GenomicDataCommons">https://​github.com/​Bioconductor/​GenomicDataCommons</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Bioconductor/GenomicDataCommons/issues/new">
        https://​github.com/​Bioconductor/​GenomicDataCommons/​issues/​new</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/Artistic-2.0">Artistic-2.0</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Martin Morgan <br><small class="roles"> Author </small>  </li>
<li>Sean Davis <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Martin Morgan, Sean Davis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
