<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The GenomicDataCommons Package • GenomicDataCommons</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-93043521-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">GenomicDataCommons</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/Bioconductor/GenomicDataCommons">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="overview_files/htmlwidgets-0.9/htmlwidgets.js"></script><script src="overview_files/jquery-1.12.4/jquery.min.js"></script><script src="overview_files/datatables-binding-0.2/datatables.js"></script><link href="overview_files/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="overview_files/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="overview_files/dt-core-1.10.12/js/jquery.dataTables.min.js"></script><link href="overview_files/dt-ext-scroller-1.10.12/css/scroller.dataTables.min.css" rel="stylesheet">
<script src="overview_files/dt-ext-scroller-1.10.12/js/dataTables.scroller.min.js"></script><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>The GenomicDataCommons Package</h1>
                        <h4 class="author">Sean Davis &amp; Martin Morgan</h4>
            
            <h4 class="date">Monday, September 25, 2017</h4>
          </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>The National Cancer Institute (NCI) has established the <a href="https://gdc.nci.nih.gov/">Genomic Data Commons</a> (GDC). The GDC provides the cancer research community with an open and unified repository for sharing and accessing data across numerous cancer studies and projects via a high-performance data transfer and query infrastructure. The <em>GenomicDataCommons</em> Bioconductor package provides basic infrastructure for querying, accessing, and mining genomic datasets available from the GDC. We expect that the Bioconductor developer and the larger bioinformatics communities will build on the <em>GenomicDataCommons</em> package to add higher-level functionality and expose cancer genomics data to the plethora of state-of-the-art bioinformatics methods available in Bioconductor.</p>
    </div>
    
<div class="contents">
<div id="what-is-the-gdc" class="section level1">
<h1 class="hasAnchor">
<a href="#what-is-the-gdc" class="anchor"></a>What is the GDC?</h1>
<p>From the <a href="https://gdc.nci.nih.gov/about-gdc">Genomic Data Commons (GDC) website</a>:</p>
<p>The National Cancer Institute’s (NCI’s) Genomic Data Commons (GDC) is a data sharing platform that promotes precision medicine in oncology. It is not just a database or a tool; it is an expandable knowledge network supporting the import and standardization of genomic and clinical data from cancer research programs.</p>
<p>The GDC contains NCI-generated data from some of the largest and most comprehensive cancer genomic datasets, including The Cancer Genome Atlas (TCGA) and Therapeutically Applicable Research to Generate Effective Therapies (TARGET). For the first time, these datasets have been harmonized using a common set of bioinformatics pipelines, so that the data can be directly compared.</p>
<p>As a growing knowledge system for cancer, the GDC also enables researchers to submit data, and harmonizes these data for import into the GDC. As more researchers add clinical and genomic data to the GDC, it will become an even more powerful tool for making discoveries about the molecular basis of cancer that may lead to better care for patients.</p>
<p>The <a href="https://gdc.cancer.gov/developers/gdc-data-model/gdc-data-model-components">data model for the GDC is complex</a>, but it worth a quick overview. The data model is encoded as a so-called property graph. Nodes represent entities such as Projects, Cases, Diagnoses, Files (various kinds), and Annotations. The relationships between these entities are maintained as edges. Both nodes and edges may have Properties that supply instance details. The GDC API exposes these nodes and edges in a somewhat simplified set of <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> endpoints.</p>
</div>
<div id="quickstart" class="section level1">
<h1 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h1>
<p>This software is in development and will <em>likely change in response to user feedback</em>. To report bugs or problems, either <a href="https://github.com/Bioconductor/GenomicDataCommons/issues">submit a new issue</a> or submit a <code>bug.report(package='GenomicDataCommons')</code> from within R (which will redirect you to the new issue on GitHub).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Installation is available from GitHub as of now.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">source</span>(<span class="st">'https://bioconductor.org/biocLite.R'</span>)
<span class="kw">biocLite</span>(<span class="st">'GenomicDataCommons'</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GenomicDataCommons)</code></pre></div>
</div>
<div id="check-basic-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#check-basic-functionality" class="anchor"></a>Check basic functionality</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/status.html">status</a></span>()</code></pre></div>
<pre><code>## $commit
## [1] "26591980c486de18fbaabb91c7f6545a9e7432fb"
## 
## $data_release
## [1] "Data Release 8.0 - August 22, 2017"
## 
## $status
## [1] "OK"
## 
## $tag
## [1] "1.10.0"
## 
## $version
## [1] 1</code></pre>
<p>If this statement results in an error such as <code>SSL connect error</code>, see <a href="#ssl-connection-errors">the troubleshooting section below</a>.</p>
</div>
<div id="find-data" class="section level2">
<h2 class="hasAnchor">
<a href="#find-data" class="anchor"></a>Find data</h2>
<p>The following code builds a <code>manifest</code> that can be used to guide the download of raw data. Here, filtering finds gene expression files quantified as raw counts using <code>HTSeq</code> from ovarian cancer patients.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(magrittr)
ge_manifest =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>( <span class="op">~</span><span class="st"> </span>cases.project.project_id <span class="op">==</span><span class="st"> 'TCGA-OV'</span> <span class="op">&amp;</span>
<span class="st">                </span>type <span class="op">==</span><span class="st"> 'gene_expression'</span> <span class="op">&amp;</span>
<span class="st">                </span>analysis.workflow_type <span class="op">==</span><span class="st"> 'HTSeq - Counts'</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/manifest.html">manifest</a></span>()</code></pre></div>
</div>
<div id="download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#download-data" class="anchor"></a>Download data</h2>
<p>This code block downloads the 379 gene expression files specified in the query above. Using multiple processes to do the download very significantly speeds up the transfer in many cases. On a standard 1Gb connection, the following completes in about 30 seconds.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">destdir =<span class="st"> </span><span class="kw">tempdir</span>()
fnames =<span class="st"> </span><span class="kw">lapply</span>(ge_manifest<span class="op">$</span>id[<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>],gdcdata,
                <span class="dt">destination_dir=</span>destdir,<span class="dt">overwrite=</span><span class="ot">TRUE</span>,
                <span class="dt">progress=</span><span class="ot">FALSE</span>)</code></pre></div>
<p>If the download had included controlled-access data, the download above would have needed to include a <code>token</code>. Details are available in <a href="#authentication">the authentication section below</a>.</p>
</div>
<div id="metadata-queries" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata-queries" class="anchor"></a>Metadata queries</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">expands =<span class="st"> </span><span class="kw">c</span>(<span class="st">"diagnoses"</span>,<span class="st">"annotations"</span>,
             <span class="st">"demographic"</span>,<span class="st">"exposures"</span>)
clinResults =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/expand.html">expand</a></span>(expands) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="../reference/results.html">results</a></span>(<span class="dt">size=</span><span class="dv">50</span>)
clinDF =<span class="st"> </span><span class="kw">as.data.frame</span>(clinResults)
<span class="kw">library</span>(DT)
<span class="kw">datatable</span>(clinDF, <span class="dt">extensions =</span> <span class="st">'Scroller'</span>, <span class="dt">options =</span> <span class="kw">list</span>(
  <span class="dt">deferRender =</span> <span class="ot">TRUE</span>,
  <span class="dt">scrollY =</span> <span class="dv">200</span>,
  <span class="dt">scrollX =</span> <span class="ot">TRUE</span>,
  <span class="dt">scroller =</span> <span class="ot">TRUE</span>
))</code></pre></div>
<p></p>
<div id="htmlwidget-06d1453025ab3964b6c5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-06d1453025ab3964b6c5">{"x":{"filter":"none","extensions":["Scroller"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["00b16434-0b3a-4194-8714-74dccbebe06c","01a13aba-74a4-4895-a5ad-e5119925c202","01ad975d-c2ed-4e4d-bd3b-c9512fc9073c","0ff6364a-e6f4-47ca-a7e7-14705bf0a8df","1431dd24-bd56-51e3-bf5d-160635a4946e","178b28cd-99c3-48dc-8d09-1ef71b4cee80","1d38d356-d126-4476-94d0-26616b9375b1","1d9893c8-0de3-4b07-b0ba-a53019b23eb4","2154d147-d266-5af8-bccd-8ccf817e0325","23eed75c-de2d-5b94-8418-75359092b0fa","23f47401-1bab-4395-970f-4e388aab2542","270447ca-19ee-45a2-982e-032325dab05f","27d9c162-11bb-48fb-a41a-aa05fcb4c1c2","298d33da-15af-48cb-b30f-eaf54e7baa43","2c636fb4-c341-4c55-b920-27bc2d40c815","3128d9bf-71fd-4edb-8d07-98f53ef0432e","35620be9-3ba5-4be7-9e00-83103e6a92e6","384400c1-98d6-4cc3-8724-de6711f6208b","38691809-7d7f-5f9a-b08d-7cd4ca8fe9ea","43cc3c60-f0a6-4b44-bd7b-8ec4da71991f","467d96d7-4a42-4116-8c32-0e4b34f96d8a","4d04939f-9509-4e9b-9406-16051afecf82","5dcbdfcf-8a4d-4da5-9049-f2b970fe8ca8","68642658-7996-4423-bb25-d3beb9a414f1","69f42084-cc06-5c6e-b60f-9a11ada79c76","6eb010c4-c906-42d4-894d-8b47de90e023","7592a659-7175-486f-a16e-24a4b4365a36","7933b320-ae8c-4d3d-9468-8abb135e93d5","79d33c28-a7e2-4fca-8be1-a16fb6d68d49","8b4cf993-1e16-4009-a37f-a629528b7d7e","8f10e006-531a-49ac-b51b-df3fdcb20929","97408569-ef36-46d6-941a-aca9e0ab297e","9b2c325c-1f03-43c7-ad5c-b49c6d205635","9f004b8a-f202-419d-a4d8-01f9430eaca5","a308a5ee-8ea1-47ee-823d-14736d74a925","abab925c-bef3-4072-b9c4-40f808744593","af7a43e9-5b6e-5636-9476-543534b0e2d5","b2433950-5b89-530a-89f7-8a7397bd3f2e","b865dec4-f051-4fbe-9405-f832ff2010d7","c35d97f8-1b70-4fbd-a603-9230b3ba7952","c53167d4-14da-40cc-b30a-35eb3967b8df","c7d7a770-23c0-4310-ab48-1f6152dc2849","cd54aff9-bee4-41aa-b347-48f8684dcece","ceb45393-54ee-4801-8c6f-c0aa66e37e60","dc16f348-a49f-4958-a3ff-bc40e18df2bd","e3b555aa-7f0a-49c6-9b13-182c61a144c1","e9f855b3-291b-449d-9758-caa0f99fa76d","eafa45a4-2fd1-4fa3-860c-9d52ed382b7d","ede2e8a7-465e-4725-880d-519899aba0c0","f0d31581-eecb-5a50-80f8-76f94276a4c8"],["00b16434-0b3a-4194-8714-74dccbebe06c","01a13aba-74a4-4895-a5ad-e5119925c202","01ad975d-c2ed-4e4d-bd3b-c9512fc9073c","0ff6364a-e6f4-47ca-a7e7-14705bf0a8df","1431dd24-bd56-51e3-bf5d-160635a4946e","178b28cd-99c3-48dc-8d09-1ef71b4cee80","1d38d356-d126-4476-94d0-26616b9375b1","1d9893c8-0de3-4b07-b0ba-a53019b23eb4","2154d147-d266-5af8-bccd-8ccf817e0325","23eed75c-de2d-5b94-8418-75359092b0fa","23f47401-1bab-4395-970f-4e388aab2542","270447ca-19ee-45a2-982e-032325dab05f","27d9c162-11bb-48fb-a41a-aa05fcb4c1c2","298d33da-15af-48cb-b30f-eaf54e7baa43","2c636fb4-c341-4c55-b920-27bc2d40c815","3128d9bf-71fd-4edb-8d07-98f53ef0432e","35620be9-3ba5-4be7-9e00-83103e6a92e6","384400c1-98d6-4cc3-8724-de6711f6208b","38691809-7d7f-5f9a-b08d-7cd4ca8fe9ea","43cc3c60-f0a6-4b44-bd7b-8ec4da71991f","467d96d7-4a42-4116-8c32-0e4b34f96d8a","4d04939f-9509-4e9b-9406-16051afecf82","5dcbdfcf-8a4d-4da5-9049-f2b970fe8ca8","68642658-7996-4423-bb25-d3beb9a414f1","69f42084-cc06-5c6e-b60f-9a11ada79c76","6eb010c4-c906-42d4-894d-8b47de90e023","7592a659-7175-486f-a16e-24a4b4365a36","7933b320-ae8c-4d3d-9468-8abb135e93d5","79d33c28-a7e2-4fca-8be1-a16fb6d68d49","8b4cf993-1e16-4009-a37f-a629528b7d7e","8f10e006-531a-49ac-b51b-df3fdcb20929","97408569-ef36-46d6-941a-aca9e0ab297e","9b2c325c-1f03-43c7-ad5c-b49c6d205635","9f004b8a-f202-419d-a4d8-01f9430eaca5","a308a5ee-8ea1-47ee-823d-14736d74a925","abab925c-bef3-4072-b9c4-40f808744593","af7a43e9-5b6e-5636-9476-543534b0e2d5","b2433950-5b89-530a-89f7-8a7397bd3f2e","b865dec4-f051-4fbe-9405-f832ff2010d7","c35d97f8-1b70-4fbd-a603-9230b3ba7952","c53167d4-14da-40cc-b30a-35eb3967b8df","c7d7a770-23c0-4310-ab48-1f6152dc2849","cd54aff9-bee4-41aa-b347-48f8684dcece","ceb45393-54ee-4801-8c6f-c0aa66e37e60","dc16f348-a49f-4958-a3ff-bc40e18df2bd","e3b555aa-7f0a-49c6-9b13-182c61a144c1","e9f855b3-291b-449d-9758-caa0f99fa76d","eafa45a4-2fd1-4fa3-860c-9d52ed382b7d","ede2e8a7-465e-4725-880d-519899aba0c0","f0d31581-eecb-5a50-80f8-76f94276a4c8"],["not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null],["not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null],["2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00","2017-03-04T16:44:35.784223-06:00"],["c61","c71.0","c77.9","c22.0","not reported","c67.2","c50.9","c56.9","not reported","not reported","c73","c61","c18.4","c50.9","c25.0","c64.9","c18.0","c18.9","not reported","c62.90","c34.1","c71.9","c73","c64.1",null,"c64.1","c56.9","c37","c18.2","c54.1","c67.9","c45.0","c18.0","c71.9","c25.0","c34.3","not reported",null,"c22.0","c49.6","c73","c50.9","c64.1","c34.1","c61","c50.9","c64.9","c50.9","c25.0",null],["TCGA-EJ-8468_diagnosis","TCGA-S9-A7IZ_diagnosis","TCGA-DA-A1I2_diagnosis","TCGA-DD-A1ED_diagnosis",null,"TCGA-DK-A3IL_diagnosis","TCGA-OL-A5RV_diagnosis","TCGA-09-0369_diagnosis",null,null,"TCGA-E8-A414_diagnosis","TCGA-HC-8257_diagnosis","TCGA-G4-6293_diagnosis","TCGA-A2-A0YH_diagnosis","TCGA-HZ-A4BH_diagnosis","TCGA-BP-5184_diagnosis","TCGA-AA-A02E_diagnosis","TCGA-AA-3980_diagnosis",null,"TCGA-2G-AAKG_diagnosis","TCGA-86-8358_diagnosis","TCGA-06-0206_diagnosis","TCGA-DJ-A2PZ_diagnosis","TCGA-SX-A71W_diagnosis",null,"TCGA-KV-A74V_diagnosis","TCGA-24-1556_diagnosis","TCGA-XU-AAXY_diagnosis","TCGA-G4-6311_diagnosis","TCGA-AX-A3FT_diagnosis","TCGA-XF-AAMJ_diagnosis","TCGA-UD-AABZ_diagnosis","TCGA-DM-A28A_diagnosis","TCGA-06-1805_diagnosis","TCGA-3A-A9J0_diagnosis","TCGA-95-7944_diagnosis",null,null,"TCGA-G3-A25S_diagnosis","TCGA-GN-A4U5_diagnosis","TCGA-EM-A22J_diagnosis","TCGA-D8-A1Y2_diagnosis","TCGA-SX-A7SR_diagnosis","TCGA-YD-A9TA_diagnosis","TCGA-V1-A8WN_diagnosis","TCGA-A2-A1G4_diagnosis","TCGA-B0-5084_diagnosis","TCGA-E2-A15O_diagnosis","TCGA-YY-A8LH_diagnosis",null],["not reported","not reported","stage iii","stage i","stage 4","stage iv","stage iiic","not reported","stage 4","stage 4","stage iii","not reported","stage iii","stage iiia","stage iib","stage i","stage iv","stage i","stage 4","stage i","stage ib","not reported","stage iii","stage i","i","stage i","not reported","not reported","stage iii","not reported","stage iii","stage ii","stage iiic","not reported","stage iib","stage ia","not reported","not reported","stage i","stage ib","stage ii","stage iia","stage ii","not reported","not reported","stage iiia","stage iv","stage i","stage iib","ii"],[23371,17874,16701,25039,2234,29047,15820,20705,687,983,16754,25629,18076,19596,27637,19746,30256,32630,796,8353,16409,14937,23332,24110,617,14834,18517,15756,29297,23543,25838,16913,28833,10542,27453,26003,5767,6935,23571,22499,20539,26021,24237,27498,17520,25966,12219,32583,22376,1798],["alive","alive","dead","alive","alive","dead","alive","dead","alive","alive","alive","alive","alive","alive","alive","alive","dead","alive","alive","alive","alive","dead","alive","alive","alive","alive","dead","alive","alive","alive","dead","dead","dead","alive","alive","alive","alive","unknown","dead","alive","alive","alive","alive","alive","alive","alive","dead","alive","alive","alive"],["8550/3","9401/3","8720/3","8170/3","not reported","8120/3","8500/3","8441/3","not reported","not reported","8260/3","8550/3","8140/3","8500/3","8500/3","8310/3","8140/3","8140/3","not reported","9070/3","8140/3","9440/3","8260/3","8260/3","8960/3","8260/3","8441/3","8584/3","8140/3","8380/3","8120/3","9052/3","8140/3","9440/3","8500/3","8140/3","not reported","not reported","8170/3","8720/3","8340/3","8500/3","8260/3","8720/3","8140/3","8500/3","8310/3","8500/3","8500/3","8960/3"],[null,null,5370,null,null,413,null,1082,null,null,null,null,null,null,null,null,90,null,null,null,null,233,null,null,null,null,2148,null,null,null,1670,197,805,null,null,null,null,null,416,null,null,null,null,null,null,null,222,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,"2016-04-25T16:38:51.018464-05:00",null,null,null,"2016-04-25T16:38:10.490777-05:00","2016-04-25T16:41:36.788822-05:00",null,null,null,null,null,null,null,null,"2016-04-25T16:34:03.802916-05:00",null,null,null,null,null,"2017-02-24T20:57:51.366861-06:00",null,null,null,null,null,null,null,null,null,null,null,"2016-05-25T20:13:25.980109-05:00","2017-02-24T22:11:32.283711-06:00",null,null,null,null,null,null,null,null,null,null,null,"2017-02-24T20:58:42.552413-06:00"],["live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["c8a637ee-806c-5150-85ed-607970de34ac","4df5440c-4335-5583-ba9b-349a8cd19aac","b3773749-10ea-53dc-a461-1850e14f7d3a","b444205b-81c2-580e-80f6-1ee5605944e9","e48cfe76-39e9-52e2-9223-591d6037805b","e90a388f-3338-5f6b-951e-b862615f1980","a61c8819-c5ee-5fe0-8b6b-13f028764f20","2ccc9ded-6131-5138-ac74-27f15e75a761","bf60ef4d-2f63-57ef-b0d3-9e91c99585b5","dd035853-49cb-5b5b-a8ea-72a4d2bfcbc9","84c4b7dd-2dd1-592f-9ae7-b784dfd2f305","8297f703-76fb-550c-8069-36db588c7869","8fbff4e8-b8c0-5bf5-9c0b-156568db1ca0","8f5f01da-2808-5e24-9443-6931b6f7ddfa","057a9f0e-20b5-50a3-aea2-eb1aa04bef6e","042438f1-8e0f-5b54-926f-d8fbb5bb7285","b24593bb-d02e-56be-8b72-c3da726a1d0b","459930e0-5f0f-5abe-8d68-f0fa595f29b6","0208a415-f84d-5230-b062-b2b7bbe83a6f","db06405e-2dc7-508a-a431-2148705c0124","508c5f4e-0e67-5914-9236-49f917cfa6d2","cedc8f31-d28e-5853-8436-a780542d2c0d","8617190d-85f3-568f-8e48-6b28b3066c55","a1473fbc-4365-51ee-8d07-8f49bf74ea2a","8ce0c838-0d82-587f-963d-1c4f2ec2dbb3","eba5ba5a-1614-5116-a428-78a36d21f85e","21fca019-acce-5868-9629-eaf16a9567a7","69adb746-cdca-5628-b01c-a61fe7401361","6313832d-c512-525d-9672-38a8d0a14339","87f6a4eb-1096-5d7a-8994-9394e567c502","bd0785c8-e447-5849-972c-6a2ca16b7cce","0be2365d-2bc8-5808-92e2-85b6d277d9b6","3b77e86c-3d32-5b27-9a02-d62c5c520e0d","f6edc542-2e2c-5c34-b0d5-5a1a243ed602","6530a774-74fe-5c9f-ae14-ba9e543d411a","c7e25352-38b8-5bb7-978d-cb4967b13f2b","7c046cb5-c94e-5ef3-81e8-8ed11fb24861","30426aa5-cbb3-59ec-a808-ede863fa7fe0","69ffe9ca-d199-5f37-887c-57f08061164f","be0f178e-561f-5fcd-a741-b5a3b1559352","89a3dcfd-6e3f-5b8b-8840-171b7c418a53","a39e1918-7a40-50c0-9f22-dc2d3142da84","6069cd90-2461-51e3-9473-c10d9468ece3","50b40847-b1eb-5ffc-8010-fe6942baee8b","e54a6a54-a215-5f6c-8754-c89a05684f61","45ee48b9-1dac-54d7-aed5-ce0606ba252e","fc776a6c-ddb9-5a7a-abd6-481f05ea27a2","8b8dfea7-736f-5fbd-a13e-02d48e8d6396","47f15386-2200-5871-81a8-8c43dbefeaa5","3d0c6afd-c88e-5803-b8aa-806881640e0a"],["not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null],["c61.9","c71.0","c77.9","c22.0",null,"c67.2","c50.9","c56.9",null,null,"c73.9","c61.9","c18.4","c50.9","c25.0","c64.9","c18.0","c18.9",null,"c62.9","c34.1","c71.9","c73.9","c64.9",null,"c64.9","c56.9","c37.9","c18.2","c54.1","c67.9","c38.4","c18.0","c71.9","c25.0","c34.3",null,null,"c22.0","c49.6","c73.9","c50.9","c64.9","c34.1","c61.9","c50.9","c64.9","c50.9","c25.0",null],[-23371,-17874,-16701,-25039,null,-29047,-15820,-20705,null,null,-16754,-25629,-18076,-19596,-27637,-19746,-30256,-32630,null,-8353,-16409,-14937,-23332,-24110,null,-14834,-18517,-15756,-29297,-23543,-25838,-16913,-28833,-10542,-27453,-26003,null,null,-23571,-22499,-20539,-26021,-24237,-27498,-17520,-25966,-12219,-32583,-22376,null],["not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null],["not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported",null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null,null,"not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported","not reported",null],["c61.9","c71.0","c77.9","c22.0","not reported","c67.2","c50.9","c56.9","not reported","not reported","c73.9","c61.9","c18.4","c50.9","c25.0","c64.9","c18.0","c18.9","not reported","c62.9","c34.1","c71.9","c73.9","c64.9","c649","c64.9","c56.9","c37.9","c18.2","c54.1","c67.9","c38.4","c18.0","c71.9","c25.0","c34.3","not reported","not reported","c22.0","c49.6","c73.9","c50.9","c64.9","c34.1","c61.9","c50.9","c64.9","c50.9","c25.0","c649"],[2347,608,5088,2301,null,121,1062,null,null,null,958,726,4051,659,194,1133,null,822,null,6598,653,197,256,1076,2861,347,2148,1891,1199,6,null,null,805,1031,743,377,1254,null,37,1156,441,433,805,1496,924,595,null,1545,2016,2142],[null,null,null,null,null,5.91780821917808,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.0958904109589,null,null,0.767123287671233,null,null,null,null,null,null,null,null,null,null,null,2.73972602739726,null,null,null,null,null,null,2.73972602739726,null,null,null,null,null,2.52054794520548,null],[null,null,92,85,null,73,null,null,null,null,null,null,64.5,null,null,null,null,null,null,null,null,null,null,89.9,null,75,null,95,69.9,82,55,null,72,null,null,null,null,null,73,84,null,null,101.5,67,null,null,null,null,null,null],["2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null,"2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null,null,"2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null,"2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null,"2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null,null,"2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00","2017-03-04T16:37:25.850486-06:00",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"no",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"no",null,null,null,null,null,null,null,null,null,null,null,null,null,"yes",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,30.1162131519274,null,28.515625,null,null,null,null,null,null,28.6666666666667,null,null,null,null,null,null,null,null,null,null,28.3739426840045,null,27.5482093663912,null,28.9978938371845,23.2208555838849,31.6345819991513,22.3132784291452,null,24.3374797187669,null,null,null,null,null,26.4915082014806,34.0784616008763,null,null,39.1574399135836,21.8775510204082,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["TCGA-EJ-8468_exposure","TCGA-S9-A7IZ_exposure","TCGA-DA-A1I2_exposure","TCGA-DD-A1ED_exposure",null,"TCGA-DK-A3IL_exposure","TCGA-OL-A5RV_exposure","TCGA-09-0369_exposure",null,null,"TCGA-E8-A414_exposure","TCGA-HC-8257_exposure","TCGA-G4-6293_exposure","TCGA-A2-A0YH_exposure","TCGA-HZ-A4BH_exposure","TCGA-BP-5184_exposure","TCGA-AA-A02E_exposure","TCGA-AA-3980_exposure",null,"TCGA-2G-AAKG_exposure","TCGA-86-8358_exposure","TCGA-06-0206_exposure","TCGA-DJ-A2PZ_exposure","TCGA-SX-A71W_exposure",null,"TCGA-KV-A74V_exposure","TCGA-24-1556_exposure","TCGA-XU-AAXY_exposure","TCGA-G4-6311_exposure","TCGA-AX-A3FT_exposure","TCGA-XF-AAMJ_exposure","TCGA-UD-AABZ_exposure","TCGA-DM-A28A_exposure","TCGA-06-1805_exposure","TCGA-3A-A9J0_exposure","TCGA-95-7944_exposure",null,null,"TCGA-G3-A25S_exposure","TCGA-GN-A4U5_exposure","TCGA-EM-A22J_exposure","TCGA-D8-A1Y2_exposure","TCGA-SX-A7SR_exposure","TCGA-YD-A9TA_exposure","TCGA-V1-A8WN_exposure","TCGA-A2-A1G4_exposure","TCGA-B0-5084_exposure","TCGA-E2-A15O_exposure","TCGA-YY-A8LH_exposure",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["live","live","live","live",null,"live","live","live",null,null,"live","live","live","live","live","live","live","live",null,"live","live","live","live","live",null,"live","live","live","live","live","live","live","live","live","live","live",null,null,"live","live","live","live","live","live","live","live","live","live","live",null],["0f56213a-b63d-5e0f-840c-fc789725419b","8a22ca16-e687-56db-b34e-9af46e45756f","eab7a16d-b936-599e-93ae-befbc57b8e2e","58ad0506-d458-5988-b0a2-cd35052c65c2",null,"e3a7df5a-73cd-5af0-84fe-f1ce8cbe5bb5","5829077e-674b-5593-96bd-2a16713a7b0a","e1c94ae2-ead5-5fe5-a89a-94962f15c34c",null,null,"22b66917-9e88-5174-ab27-f30e547b4fe8","87494d13-c8a2-5586-b20c-5cb313fae99b","5c000128-d153-588e-912b-a7790e4d29a0","5569b581-a47e-56cf-9a12-9bc165dfed24","e8b23774-9b99-5a3d-8768-9e29c9e1d44c","7c407073-c0e5-5466-bdc7-097f09458096","d440559e-97ab-5786-802b-2f2269b8142a","6b8e27c8-914e-5f75-a5ca-3e29226b075c",null,"f383c3ae-cb40-5570-b100-615548317993","327121b9-66d5-54ac-92d4-0e37189f3be1","6132e6af-8a65-53e6-9c7c-be3212afad4f","3ca506aa-2b7d-5c6f-99aa-6942f968d338","8a28c904-7569-5c18-8132-a8d79d688226",null,"dfa85766-8228-5a94-90d4-d8ab00d5a9d9","1da5e803-23db-52d1-93ba-35f39a90bea8","f7e617fc-c88d-5b11-851c-81bd5178781f","acec61e3-4e61-53f3-bd01-4ea5607a90f3","fb974c37-14e9-5fc3-a9e4-ed99220d857f","c75dec01-834c-5dbe-9ef9-9b8cff797334","ce1a8c17-fe1c-581e-a73c-c6c5f182d573","3fc1a74d-7d95-54f9-980a-a68f87a6545b","c5a5f0cd-d7ea-5a32-be65-d494fea40e5f","bc2c3c00-6adf-5075-8fce-353209a5c71b","75bb3f37-5d61-5584-b442-a57da9ee1929",null,null,"b3582a03-eef5-5274-ace3-d57592bf81fd","af39da2a-6ab5-56bc-bac4-7cd8c557fc91","f3d3fdb8-3ac4-5683-924f-03d96d0d83ad","50505a02-0645-5110-918c-385e1f8680fb","dbb718da-01e5-52b9-ab90-92aeac24647f","b93a8125-6b0a-579f-a5e2-28a591a6dccc","103e9fd8-379c-54ce-98cc-38641786a1a8","62667205-2f00-57ed-98f7-740e58f8d34d","1dae50c5-e124-502c-b51f-3f7a9fd70f4d","55db8c72-7138-55cc-8156-8f21072fc824","86bf5906-05e8-5f81-aa1b-589a2cf31b85",null],[null,null,null,168,null,160,null,null,null,null,null,null,150,null,null,null,null,null,null,null,null,null,null,178,null,165,null,181,173.5,161,157,null,172,null,null,null,null,null,166,157,null,null,161,175,null,null,null,null,null,null],["2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00","2017-03-04T16:37:28.862150-06:00"],[null,null,null,null,"2016-04-25T16:38:51.018464-05:00",null,null,null,"2016-04-25T16:38:10.490777-05:00","2016-04-25T16:41:36.788822-05:00",null,null,null,null,null,null,null,null,"2016-04-25T16:34:03.802916-05:00",null,null,null,null,null,"2017-02-24T20:57:51.366861-06:00",null,null,null,null,null,null,null,null,null,null,null,"2017-02-24T22:12:27.830752-06:00","2017-02-24T22:11:32.283711-06:00",null,null,null,null,null,null,null,null,null,null,null,"2017-02-24T20:58:42.552413-06:00"],["male","female","male","male","female","female","female","female","male","male","female","male","female","female","male","male","female","female","male","male","male","male","male","male","female","male","female","male","male","female","male","male","male","female","male","male","female","female","male","female","female","female","male","male","male","female","male","female","female","female"],[1944,1965,1951,1938,null,1932,1968,1947,null,null,1967,1941,1953,1956,1936,1953,1925,1920,null,1974,1968,1956,1948,1946,null,1973,1950,1966,1928,1946,1936,1958,1923,1981,1937,1940,null,null,1945,1950,1955,1940,1946,1935,null,1939,1973,1921,1948,null],["TCGA-EJ-8468_demographic","TCGA-S9-A7IZ_demographic","TCGA-DA-A1I2_demographic","TCGA-DD-A1ED_demographic",null,"TCGA-DK-A3IL_demographic","TCGA-OL-A5RV_demographic","TCGA-09-0369_demographic",null,null,"TCGA-E8-A414_demographic","TCGA-HC-8257_demographic","TCGA-G4-6293_demographic","TCGA-A2-A0YH_demographic","TCGA-HZ-A4BH_demographic","TCGA-BP-5184_demographic","TCGA-AA-A02E_demographic","TCGA-AA-3980_demographic",null,"TCGA-2G-AAKG_demographic","TCGA-86-8358_demographic","TCGA-06-0206_demographic","TCGA-DJ-A2PZ_demographic","TCGA-SX-A71W_demographic",null,"TCGA-KV-A74V_demographic","TCGA-24-1556_demographic","TCGA-XU-AAXY_demographic","TCGA-G4-6311_demographic","TCGA-AX-A3FT_demographic","TCGA-XF-AAMJ_demographic","TCGA-UD-AABZ_demographic","TCGA-DM-A28A_demographic","TCGA-06-1805_demographic","TCGA-3A-A9J0_demographic","TCGA-95-7944_demographic",null,null,"TCGA-G3-A25S_demographic","TCGA-GN-A4U5_demographic","TCGA-EM-A22J_demographic","TCGA-D8-A1Y2_demographic","TCGA-SX-A7SR_demographic","TCGA-YD-A9TA_demographic","TCGA-V1-A8WN_demographic","TCGA-A2-A1G4_demographic","TCGA-B0-5084_demographic","TCGA-E2-A15O_demographic","TCGA-YY-A8LH_demographic",null],["live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live","live"],["not reported","white","white","white","white","white","black or african american","white","white","white","asian","not reported","white","white","white","white","not reported","not reported","white","white","white","white","white","white","white","white","white","white","white","white","asian","white","white","white","white","white","white","white","white","white","not reported","white","white","white","not reported","white","white","black or african american","white","black or african american"],["b889907b-ecd1-521e-9247-7f3cbcbcea51","eea25147-f2f3-5e19-b53d-7acac5f9fe56","1b1e6105-998a-54eb-be77-8e642db5678c","5396bf88-f4b3-5e28-94cf-31773208a51a","8f58f754-c23d-5e3f-808b-bc9338f75f4c","25fdc0de-f282-5a30-a682-e0a38b03da61","aae0e245-9bf2-5270-a119-d15739e575f5","91435668-d5f8-5c6b-8afd-e3e973f0a0aa","891be448-a045-569d-870c-9bdb1c2e5752","88cae62b-d753-51e3-8679-1174150738bc","39001bf8-f289-529b-85dc-3d40c9c6969b","28690c94-cc22-570c-ad98-285835daf366","dc83e798-1ce2-5776-a90d-8e8fb1fe7821","f633a69e-f17f-563f-bd87-e026e80fcd54","f9fe9c1b-a48c-51de-b434-e080bdb97091","a7ad2b63-3dd0-53b2-bb59-b5c6fd37d163","264fc370-1d4d-5ad1-a9b2-1596d24b64f7","a3ccf839-9d7f-50c3-91c0-bd0e4441823d","eba0ed44-6440-5bd2-b14a-71e5c7cde730","125a69b4-cd09-5214-ac70-9193cf0cbfd3","eb154e63-06b0-540e-858c-ccec75e53d91","889a53de-ce93-57b4-ae3c-159d38e6be36","3a6027df-08da-5b12-971b-4de4232127a2","95cb4f24-3486-5685-b431-aac4a6e14ab8","7d305ec2-c535-5d87-bd1e-2efe601201eb","ee2000a0-4788-5456-ba8d-4e0990589ba0","2dcec934-ec62-5a81-9bbc-8582f8129183","aab2c66e-ccf8-5ec1-be91-73c839983372","ee10a0a5-1c22-56cf-97fd-19c84f229212","a0b12635-e4b8-5c98-8598-5d12f61f0f2a","18c65d3f-eb0a-5257-baf6-293c82325782","d3a0c40b-8e01-5d0a-98b0-f9a0ddca44b6","2ad60444-0ab3-5f09-87ce-71a61fa6faa2","978553c8-0ff5-59b4-a283-f2b9200c5b87","f2ecdb71-0bf3-5487-a0a4-d8fdeb45e8e0","a69fed60-cf3a-5c60-b3fd-d2ceeddec204","8a0d8bee-7f62-5c97-aa6a-3bb6ffc9e93a","23179dbd-3fcc-52bd-a443-f90911cf8dde","38cf4300-3bb3-55a3-9099-841c41f967ac","ebb7a9d5-94d6-5b22-b50a-8086133aaf16","312482b3-db85-54db-906b-5444e28369a8","91ac1a56-b19e-5cc8-809e-be4aa26e6150","2ad65166-d25b-57ec-bda1-100241a09a84","096cd246-2da9-5174-96a6-08d8c9389aa6","e22da5fb-c444-5c92-b1e0-b370fe491df6","a14e794f-900e-5d31-bf1a-342cf600920d","a29b30ed-deb6-5c4c-a3be-94102f070c2b","7cb67cb5-b8c3-5cc8-8a81-20d142798a0d","a7a28c77-d31b-553a-9326-4d60b227dabe","bc730a42-467a-521e-ba1d-259bad5417c4"],["not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not reported","not hispanic or latino","not hispanic or latino","not reported","not reported","not reported","not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino",null,"not hispanic or latino","not hispanic or latino","not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not reported","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino","not hispanic or latino"],[null,null,null,null,null,null,null,2005,null,null,null,null,null,null,null,null,2007,null,null,null,null,1996,null,null,null,null,2005,null,null,null,2010,2004,2003,null,null,null,null,null,null,null,null,null,null,null,null,null,2006,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>case_id<\/th>\n      <th>id<\/th>\n      <th>diagnoses.classification_of_tumor<\/th>\n      <th>diagnoses.last_known_disease_status<\/th>\n      <th>diagnoses.updated_datetime<\/th>\n      <th>diagnoses.primary_diagnosis<\/th>\n      <th>diagnoses.submitter_id<\/th>\n      <th>diagnoses.tumor_stage<\/th>\n      <th>diagnoses.age_at_diagnosis<\/th>\n      <th>diagnoses.vital_status<\/th>\n      <th>diagnoses.morphology<\/th>\n      <th>diagnoses.days_to_death<\/th>\n      <th>diagnoses.days_to_last_known_disease_status<\/th>\n      <th>diagnoses.created_datetime<\/th>\n      <th>diagnoses.state<\/th>\n      <th>diagnoses.days_to_recurrence<\/th>\n      <th>diagnoses.diagnosis_id<\/th>\n      <th>diagnoses.tumor_grade<\/th>\n      <th>diagnoses.tissue_or_organ_of_origin<\/th>\n      <th>diagnoses.days_to_birth<\/th>\n      <th>diagnoses.progression_or_recurrence<\/th>\n      <th>diagnoses.prior_malignancy<\/th>\n      <th>diagnoses.site_of_resection_or_biopsy<\/th>\n      <th>diagnoses.days_to_last_follow_up<\/th>\n      <th>exposures.cigarettes_per_day<\/th>\n      <th>exposures.weight<\/th>\n      <th>exposures.updated_datetime<\/th>\n      <th>exposures.alcohol_history<\/th>\n      <th>exposures.alcohol_intensity<\/th>\n      <th>exposures.bmi<\/th>\n      <th>exposures.years_smoked<\/th>\n      <th>exposures.submitter_id<\/th>\n      <th>exposures.created_datetime<\/th>\n      <th>exposures.state<\/th>\n      <th>exposures.exposure_id<\/th>\n      <th>exposures.height<\/th>\n      <th>updated_datetime<\/th>\n      <th>created_datetime<\/th>\n      <th>gender<\/th>\n      <th>year_of_birth<\/th>\n      <th>submitter_id<\/th>\n      <th>state<\/th>\n      <th>race<\/th>\n      <th>demographic_id<\/th>\n      <th>ethnicity<\/th>\n      <th>year_of_death<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"deferRender":true,"scrollY":200,"scrollX":true,"scroller":true,"columnDefs":[{"className":"dt-right","targets":[9,12,20,24,25,26,30,31,36,40,46]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> # Basic design
<p>This package design is meant to have some similarities to the “hadleyverse” approach of dplyr. Roughly, the functionality for finding and accessing files and metadata can be divided into:</p>
<ol style="list-style-type: decimal">
<li>Simple query constructors based on GDC API endpoints.</li>
<li>A set of verbs that when applied, adjust filtering, field selection, and faceting (fields for aggregation) and result in a new query object (an endomorphism)</li>
<li>A set of verbs that take a query and return results from the GDC</li>
</ol>
<p>In addition, there are exhiliary functions for asking the GDC API for information about available and default fields, slicing BAM files, and downloading actual data files. Here is an overview of functionality<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<ul>
<li>Creating a query
<ul>
<li><code><a href="../reference/query.html">projects()</a></code></li>
<li><code><a href="../reference/query.html">cases()</a></code></li>
<li><code><a href="../reference/query.html">files()</a></code></li>
<li><code><a href="../reference/query.html">annotations()</a></code></li>
</ul>
</li>
<li>Manipulating a query
<ul>
<li><code><a href="../reference/filtering.html">filter()</a></code></li>
<li><code><a href="../reference/faceting.html">facet()</a></code></li>
<li><code><a href="../reference/select.html">select()</a></code></li>
</ul>
</li>
<li>Introspection on the GDC API fields
<ul>
<li><code><a href="../reference/mapping.html">mapping()</a></code></li>
<li><code><a href="../reference/available_fields.html">available_fields()</a></code></li>
<li><code><a href="../reference/default_fields.html">default_fields()</a></code></li>
<li><code><a href="../reference/grep_fields.html">grep_fields()</a></code></li>
<li><code>field_picker()</code></li>
<li><code><a href="../reference/available_values.html">available_values()</a></code></li>
<li><code><a href="../reference/available_expand.html">available_expand()</a></code></li>
</ul>
</li>
<li>Executing an API call to retrieve query results
<ul>
<li><code><a href="../reference/results.html">results()</a></code></li>
<li><code><a href="../reference/count.html">count()</a></code></li>
<li><code><a href="../reference/response.html">response()</a></code></li>
</ul>
</li>
<li>Raw data file downloads
<ul>
<li><code><a href="../reference/gdcdata.html">gdcdata()</a></code></li>
<li><code><a href="../reference/transfer.html">transfer()</a></code></li>
<li><code><a href="../reference/gdc_client.html">gdc_client()</a></code></li>
</ul>
</li>
<li>Summarizing and aggregating field values (faceting)
<ul>
<li><code><a href="../reference/aggregations.html">aggregations()</a></code></li>
</ul>
</li>
<li>Authentication
<ul>
<li><code><a href="../reference/gdc_token.html">gdc_token()</a></code></li>
</ul>
</li>
<li>BAM file slicing
<ul>
<li><code><a href="../reference/slicing.html">slicing()</a></code></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<p>There are two main classes of operations when working with the NCI GDC.</p>
<ol style="list-style-type: decimal">
<li>
<a href="#querying-metadata">Querying metadata and finding data files</a> (e.g., finding all gene expression quantifications data files for all colon cancer patients).</li>
<li>
<a href="#datafile-access-and-download">Transferring raw or processed data</a> from the GDC to another computer (e.g., downloading raw or processed data)</li>
</ol>
<p>Both classes of operation are reviewed in detail in the following sections.</p>
<div id="querying-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#querying-metadata" class="anchor"></a>Querying metadata</h2>
<p>Vast amounts of metadata about cases (patients, basically), files, projects, and so-called annotations are available via the NCI GDC API. Typically, one will want to query metadata to either focus in on a set of files for download or transfer <em>or</em> to perform so-called aggregations (pivot-tables, facets, similar to the R <code>table()</code> functionality).</p>
<p>Querying metadata starts with <a href="#creating-a-query">creating a “blank” query</a>. One will often then want to <a href="#filtering"><code>filter</code></a> the query to limit results prior to <a href="#retrieving-results">retrieving results</a>. The GenomicDataCommons package has <a href="#fields-and-values">helper functions for listing fields</a> that are available for filtering.</p>
<p>In addition to fetching results, the GDC API allows <a href="#facets-and-aggregation">faceting, or aggregating,</a>, useful for compiling reports, generating dashboards, or building user interfaces to GDC data (see GDC web query interface for a non-R-based example).</p>
<div id="creating-a-query" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-a-query" class="anchor"></a>Creating a query</h3>
<p>A query of the GDC starts its life in R. Queries follow the four metadata endpoints available at the GDC. In particular, there are four convenience functions that each create <code>GDCQuery</code> objects (actually, specific subclasses of <code>GDCQuery</code>):</p>
<ul>
<li><code><a href="../reference/query.html">projects()</a></code></li>
<li><code><a href="../reference/query.html">cases()</a></code></li>
<li><code><a href="../reference/query.html">files()</a></code></li>
<li><code><a href="../reference/query.html">annotations()</a></code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pquery =<span class="st"> </span><span class="kw"><a href="../reference/query.html">projects</a></span>()</code></pre></div>
<p>The <code>pquery</code> object is now an object of (S3) class, <code>GDCQuery</code> (and <code>gdc_projects</code> and <code>list</code>). The object contains the following elements:</p>
<ul>
<li>fields: This is a character vector of the fields that will be returned when we <a href="#retrieving-results">retrieve data</a>. If no fields are specified to, for example, the <code><a href="../reference/query.html">projects()</a></code> function, the default fields from the GDC are used (see <code><a href="../reference/default_fields.html">default_fields()</a></code>)</li>
<li>filters: This will contain results after calling the <a href="#filtering"><code><a href="../reference/filtering.html">filter()</a></code> method</a> and will be used to filter results on <a href="#retrieving-results">retrieval</a>.</li>
<li>facets: A character vector of field names that will be used for <a href="#facets-and-aggregation">aggregating data</a> in a call to <code><a href="../reference/aggregations.html">aggregations()</a></code>.</li>
<li>archive: One of either “default” or <a href="https://gdc-portal.nci.nih.gov/legacy-archive/">“legacy”</a>.</li>
<li>token: A character(1) token from the GDC. See <a href="#authentication">the authentication section</a> for details, but note that, in general, the token is not necessary for metadata query and retrieval, only for actual data download.</li>
</ul>
<p>Looking at the actual object (get used to using <code>str()</code>!), note that the query contains no results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(pquery)</code></pre></div>
<pre><code>## List of 5
##  $ fields : chr [1:10] "dbgap_accession_number" "disease_type" "intended_release_date" "name" ...
##  $ filters: NULL
##  $ facets : NULL
##  $ legacy : logi FALSE
##  $ expand : NULL
##  - attr(*, "class")= chr [1:3] "gdc_projects" "GDCQuery" "list"</code></pre>
</div>
<div id="retrieving-results" class="section level3">
<h3 class="hasAnchor">
<a href="#retrieving-results" class="anchor"></a>Retrieving results</h3>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#size-and-from">[ GDC pagination documentation ]</a></p>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#sort">[ GDC sorting documentation ]</a></p>
<p>With a query object available, the next step is to retrieve results from the GDC. The GenomicDataCommons package. The most basic type of results we can get is a simple <code><a href="../reference/count.html">count()</a></code> of records available that satisfy the filter criteria. Note that we have not set any filters, so a <code><a href="../reference/count.html">count()</a></code> here will represent all the project records publicly available at the GDC in the “default” archive"</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pcount =<span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>(pquery)
<span class="co"># or</span>
pcount =<span class="st"> </span>pquery <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>()
pcount</code></pre></div>
<pre><code>## [1] 39</code></pre>
<p>The <code><a href="../reference/results.html">results()</a></code> method will fetch actual results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">presults =<span class="st"> </span>pquery <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/results.html">results</a></span>()</code></pre></div>
<p>These results are returned from the GDC in <a href="http://www.json.org/">JSON</a> format and converted into a (potentially nested) list in R. The <code>str()</code> method is useful for taking a quick glimpse of the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(presults)</code></pre></div>
<pre><code>## List of 8
##  $ dbgap_accession_number: chr [1:10] NA NA NA NA ...
##  $ disease_type          :List of 10
##   ..$ TCGA-LIHC: chr "Liver Hepatocellular Carcinoma"
##   ..$ TCGA-HNSC: chr "Head and Neck Squamous Cell Carcinoma"
##   ..$ TCGA-COAD: chr "Colon Adenocarcinoma"
##   ..$ TCGA-PAAD: chr "Pancreatic Adenocarcinoma"
##   ..$ TARGET-WT: chr "High-Risk Wilms Tumor"
##   ..$ TCGA-UCS : chr "Uterine Carcinosarcoma"
##   ..$ TCGA-UVM : chr "Uveal Melanoma"
##   ..$ TCGA-STAD: chr "Stomach Adenocarcinoma"
##   ..$ TCGA-LUSC: chr "Lung Squamous Cell Carcinoma"
##   ..$ TCGA-UCEC: chr "Uterine Corpus Endometrial Carcinoma"
##  $ released              : logi [1:10] TRUE TRUE TRUE TRUE TRUE TRUE ...
##  $ state                 : chr [1:10] "legacy" "legacy" "legacy" "legacy" ...
##  $ primary_site          :List of 10
##   ..$ TCGA-LIHC: chr "Liver"
##   ..$ TCGA-HNSC: chr "Head and Neck"
##   ..$ TCGA-COAD: chr "Colorectal"
##   ..$ TCGA-PAAD: chr "Pancreas"
##   ..$ TARGET-WT: chr "Kidney"
##   ..$ TCGA-UCS : chr "Uterus"
##   ..$ TCGA-UVM : chr "Eye"
##   ..$ TCGA-STAD: chr "Stomach"
##   ..$ TCGA-LUSC: chr "Lung"
##   ..$ TCGA-UCEC: chr "Uterus"
##  $ project_id            : chr [1:10] "TCGA-LIHC" "TCGA-HNSC" "TCGA-COAD" "TCGA-PAAD" ...
##  $ id                    : chr [1:10] "TCGA-LIHC" "TCGA-HNSC" "TCGA-COAD" "TCGA-PAAD" ...
##  $ name                  : chr [1:10] "Liver Hepatocellular Carcinoma" "Head and Neck Squamous Cell Carcinoma" "Colon Adenocarcinoma" "Pancreatic Adenocarcinoma" ...
##  - attr(*, "row.names")= int [1:10] 1 2 3 4 5 6 7 8 9 10
##  - attr(*, "class")= chr [1:3] "GDCprojectsResults" "GDCResults" "list"</code></pre>
<p>A default of only 10 records are returned. We can use the <code>size</code> and <code>from</code> arguments to <code><a href="../reference/results.html">results()</a></code> to either page through results or to change the number of results. Finally, there is a convenience method, <code><a href="../reference/results_all.html">results_all()</a></code> that will simply fetch all the available results given a query. Note that <code><a href="../reference/results_all.html">results_all()</a></code> may take a long time and return HUGE result sets if not used carefully. Use of a combination of <code><a href="../reference/count.html">count()</a></code> and <code><a href="../reference/results.html">results()</a></code> to get a sense of the expected data size is probably warranted before calling <code><a href="../reference/results_all.html">results_all()</a></code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw"><a href="../reference/ids.html">ids</a></span>(presults))</code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">presults =<span class="st"> </span>pquery <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/results_all.html">results_all</a></span>()
<span class="kw">length</span>(<span class="kw"><a href="../reference/ids.html">ids</a></span>(presults))</code></pre></div>
<pre><code>## [1] 39</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># includes all records</span>
<span class="kw">length</span>(<span class="kw"><a href="../reference/ids.html">ids</a></span>(presults)) <span class="op">==</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>(pquery)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Extracting subsets of results or manipulating the results into a more conventional R data structure is not easily generalizable. However, the <a href="https://github.com/hadley/purrr">purrr</a>, <a href="https://renkun.me/rlist/">rlist</a>, and <a href="https://cran.r-project.org/web/packages/data.tree/vignettes/data.tree.html">data.tree</a> packages are all potentially of interest for manipulating complex, nested list structures. For viewing the results in an interactive viewer, consider the <a href="https://github.com/timelyportfolio/listviewer">listviewer</a> package.</p>
<p>In the case of the <code>projects</code> entity, the default results (using default fields, that is) can be simplified easily with <code>as.data.frame</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">as.data.frame</span>(presults))</code></pre></div>
<pre><code>##    project_id dbgap_accession_number released  state          id
## 1  TARGET-AML              phs000465     TRUE legacy  TARGET-AML
## 2 TARGET-CCSK              phs000466     TRUE legacy TARGET-CCSK
## 3  TARGET-NBL              phs000467     TRUE legacy  TARGET-NBL
## 4   TARGET-OS              phs000468     TRUE legacy   TARGET-OS
## 5   TARGET-RT              phs000470     TRUE legacy   TARGET-RT
## 6   TARGET-WT              phs000471     TRUE legacy   TARGET-WT
##                               name disease_type primary_site
## 1           Acute Myeloid Leukemia Acute My....        Blood
## 2 Clear Cell Sarcoma of the Kidney Clear Ce....       Kidney
## 3                    Neuroblastoma Neurobla.... Nervous ....
## 4                     Osteosarcoma Osteosarcoma         Bone
## 5                   Rhabdoid Tumor Rhabdoid....       Kidney
## 6            High-Risk Wilms Tumor High-Ris....       Kidney</code></pre>
</div>
<div id="fields-and-values" class="section level3">
<h3 class="hasAnchor">
<a href="#fields-and-values" class="anchor"></a>Fields and Values</h3>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#fields">[ GDC <code>fields</code> documentation ]</a></p>
<p>Central to querying and retrieving data from the GDC is the ability to specify which fields to return, filtering by fields and values, and faceting or aggregating. The GenomicDataCommons package includes two simple functions, <code><a href="../reference/available_fields.html">available_fields()</a></code> and <code><a href="../reference/default_fields.html">default_fields()</a></code>. Each can operate on a character(1) endpoint name (“cases”, “files”, “annotations”, or “projects”) or a <code>GDCQuery</code> object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/default_fields.html">default_fields</a></span>(<span class="st">'files'</span>)</code></pre></div>
<pre><code>##  [1] "access"                "acl"                  
##  [3] "created_datetime"      "data_category"        
##  [5] "data_format"           "data_type"            
##  [7] "error_type"            "experimental_strategy"
##  [9] "file_autocomplete"     "file_id"              
## [11] "file_name"             "file_size"            
## [13] "file_state"            "md5sum"               
## [15] "origin"                "platform"             
## [17] "revision"              "state"                
## [19] "state_comment"         "submitter_id"         
## [21] "tags"                  "type"                 
## [23] "updated_datetime"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The number of fields available for files endpoint</span>
<span class="kw">length</span>(<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'files'</span>))</code></pre></div>
<pre><code>## [1] 592</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The first few fields available for files endpoint</span>
<span class="kw">head</span>(<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'files'</span>))</code></pre></div>
<pre><code>## [1] "access"                      "acl"                        
## [3] "analysis.analysis_id"        "analysis.analysis_type"     
## [5] "analysis.created_datetime"   "analysis.input_files.access"</code></pre>
<p>The fields to be returned by a query can be specified following a similar paradigm to that of the dplyr package. The <code><a href="../reference/select.html">select()</a></code> function is a verb that resets the fields slot of a <code>GDCQuery</code>; note that this is not quite analogous to the dplyr <code><a href="../reference/select.html">select()</a></code> verb that limits from already-present fields. We <em>completely replace</em> the fields when using <code><a href="../reference/select.html">select()</a></code> on a <code>GDCQuery</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Default fields here</span>
qcases =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>()
qcases<span class="op">$</span>fields</code></pre></div>
<pre><code>##  [1] "aliquot_ids"              "analyte_ids"             
##  [3] "case_autocomplete"        "case_id"                 
##  [5] "created_datetime"         "days_to_index"           
##  [7] "days_to_lost_to_followup" "disease_type"            
##  [9] "index_date"               "lost_to_followup"        
## [11] "portion_ids"              "primary_site"            
## [13] "sample_ids"               "slide_ids"               
## [15] "state"                    "submitter_aliquot_ids"   
## [17] "submitter_analyte_ids"    "submitter_id"            
## [19] "submitter_portion_ids"    "submitter_sample_ids"    
## [21] "submitter_slide_ids"      "updated_datetime"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set up query to use ALL available fields</span>
<span class="co"># Note that checking of fields is done by select()</span>
qcases =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'cases'</span>))
<span class="kw">head</span>(qcases<span class="op">$</span>fields)</code></pre></div>
<pre><code>## [1] "case_id"                       "aliquot_ids"                  
## [3] "analyte_ids"                   "annotations.annotation_id"    
## [5] "annotations.case_id"           "annotations.case_submitter_id"</code></pre>
<p>Finding fields of interest is such a common operation that the GenomicDataCommons includes the <code><a href="../reference/grep_fields.html">grep_fields()</a></code> function and the <code>field_picker()</code> widget. See the appropriate help pages for details.</p>
</div>
<div id="facets-and-aggregation" class="section level3">
<h3 class="hasAnchor">
<a href="#facets-and-aggregation" class="anchor"></a>Facets and aggregation</h3>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#facets">[ GDC <code>facet</code> documentation ]</a></p>
<p>The GDC API offers a feature known as aggregation or faceting. By specifying one or more fields (of appropriate type), the GDC can return to us a count of the number of records matching each potential value. This is similar to the R <code>table</code> method. Multiple fields can be returned at once, but the GDC API does not have a cross-tabulation feature; all aggregations are only on one field at a time. Results of <code>aggregation()</code> calls come back as a list of data.frames (actually, tibbles).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># total number of files of a specific type</span>
res =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="kw">c</span>(<span class="st">'type'</span>,<span class="st">'data_type'</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()
res<span class="op">$</span>type</code></pre></div>
<pre><code>##                            key doc_count
## 1                aligned_reads     45988
## 2   annotated_somatic_mutation     45577
## 3      simple_somatic_mutation     45577
## 4          copy_number_segment     44752
## 5              gene_expression     34722
## 6             mirna_expression     22976
## 7       methylation_beta_value     12359
## 8       biospecimen_supplement     11328
## 9          clinical_supplement     11169
## 10 aggregated_somatic_mutation       144
## 11     masked_somatic_mutation       132</code></pre>
<p>Using <code><a href="../reference/aggregations.html">aggregations()</a></code> is an also easy way to learn the contents of individual fields and forms the basis for faceted search pages.</p>
</div>
<div id="filtering" class="section level3">
<h3 class="hasAnchor">
<a href="#filtering" class="anchor"></a>Filtering</h3>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#filters-specifying-the-query">[ GDC <code>filtering</code> documentation ]</a></p>
<p>The GenomicDataCommons package uses a form of non-standard evaluation to specify R-like queries that are then translated into an R list. That R list is, upon calling a method that fetches results from the GDC API, translated into the appropriate JSON string. The R expression uses the formula interface as suggested by Hadley Wickham in his <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/nse.html">vignette on non-standard evaluation</a></p>
<blockquote>
<p>It’s best to use a formula because a formula captures both the expression to evaluate and the environment where the evaluation occurs. This is important if the expression is a mixture of variables in a data frame and objects in the local environment [for example].</p>
</blockquote>
<p>For the user, these details will not be too important except to note that a filter expression must begin with a “~”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qfiles =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>()
qfiles <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>() <span class="co"># all files</span></code></pre></div>
<pre><code>## [1] 274724</code></pre>
<p>To limit the file type, we can refer back to the <a href="#facets-and-aggregation">section on faceting</a> to see the possible values for the file field “type”. For example, to filter file results to only “gene_expression” files, we simply specify a filter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qfiles =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>type <span class="op">==</span><span class="st"> 'gene_expression'</span>)
<span class="co"># here is what the filter looks like after translation</span>
<span class="kw">str</span>(<span class="kw"><a href="../reference/filtering.html">get_filter</a></span>(qfiles))</code></pre></div>
<pre><code>## List of 2
##  $ op     :Classes 'scalar', 'character'  chr "="
##  $ content:List of 2
##   ..$ field: chr "type"
##   ..$ value: chr "gene_expression"</code></pre>
<p>What if we want to create a filter based on the project (‘TCGA-OVCA’, for example)? Well, we have a couple of possible ways to discover available fields. The first is based on base R functionality and some intuition.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">grep</span>(<span class="st">'pro'</span>,<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'files'</span>),<span class="dt">value=</span><span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##  [1] "cases.diagnoses.progression_free_survival"               
##  [2] "cases.diagnoses.progression_free_survival_event"         
##  [3] "cases.diagnoses.progression_or_recurrence"               
##  [4] "cases.project.dbgap_accession_number"                    
##  [5] "cases.project.disease_type"                              
##  [6] "cases.project.intended_release_date"                     
##  [7] "cases.project.name"                                      
##  [8] "cases.project.primary_site"                              
##  [9] "cases.project.program.dbgap_accession_number"            
## [10] "cases.project.program.name"                              
## [11] "cases.project.program.program_id"                        
## [12] "cases.project.project_id"                                
## [13] "cases.project.releasable"                                
## [14] "cases.project.released"                                  
## [15] "cases.project.state"                                     
## [16] "cases.samples.days_to_sample_procurement"                
## [17] "cases.samples.method_of_sample_procurement"              
## [18] "cases.samples.portions.slides.number_proliferating_cells"
## [19] "cases.tissue_source_site.project"</code></pre>
<p>Interestingly, the project information is “nested” inside the case. We don’t need to know that detail other than to know that we now have a few potential guesses for where our information might be in the files records. We need to know where because we need to construct the appropriate filter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="st">'cases.project.project_id'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()</code></pre></div>
<pre><code>## $cases.project.project_id
##            key doc_count
## 1    TCGA-BRCA     27207
## 2    TCGA-LUAD     14804
## 3    TCGA-UCEC     13604
## 4    TCGA-LUSC     13124
## 5    TCGA-HNSC     12895
## 6     TCGA-LGG     12603
## 7    TCGA-THCA     12703
## 8      TCGA-OV     13054
## 9    TCGA-PRAD     12568
## 10   TCGA-COAD     11824
## 11   TCGA-SKCM     11265
## 12   TCGA-KIRC     12272
## 13   TCGA-STAD     10731
## 14   TCGA-BLCA     10193
## 15    TCGA-GBM      9657
## 16   TCGA-LIHC      9511
## 17   TCGA-CESC      7349
## 18   TCGA-KIRP      7368
## 19   TCGA-SARC      6282
## 20   TCGA-ESCA      4473
## 21   TCGA-PAAD      4433
## 22   TCGA-PCPG      4422
## 23   TCGA-READ      4012
## 24   TCGA-LAML      3954
## 25   TCGA-TGCT      3636
## 26  TARGET-NBL      2806
## 27   TCGA-THYM      2974
## 28  TARGET-AML      1873
## 29    TCGA-ACC      2108
## 30   TARGET-WT      1324
## 31   TCGA-MESO      2050
## 32    TCGA-UVM      1928
## 33   TCGA-KICH      1853
## 34    TCGA-UCS      1364
## 35   TCGA-CHOL      1157
## 36   TCGA-DLBC      1163
## 37   TARGET-OS         4
## 38   TARGET-RT       174
## 39 TARGET-CCSK         2</code></pre>
<p>We note that <code>cases.project.project_id</code> looks like it is a good fit. We also note that <code>TCGA-OV</code> is the correct project_id, not <code>TCGA-OVCA</code>. Note that <em>unlike with dplyr and friends, the <code><a href="../reference/filtering.html">filter()</a></code> method here <strong>replaces</strong> the filter and does not build on any previous filters</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qfiles =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>( <span class="op">~</span><span class="st"> </span>cases.project.project_id <span class="op">==</span><span class="st"> 'TCGA-OV'</span> <span class="op">&amp;</span><span class="st"> </span>type <span class="op">==</span><span class="st"> 'gene_expression'</span>)
<span class="kw">str</span>(<span class="kw"><a href="../reference/filtering.html">get_filter</a></span>(qfiles))</code></pre></div>
<pre><code>## List of 2
##  $ op     :Classes 'scalar', 'character'  chr "and"
##  $ content:List of 2
##   ..$ :List of 2
##   .. ..$ op     :Classes 'scalar', 'character'  chr "="
##   .. ..$ content:List of 2
##   .. .. ..$ field: chr "cases.project.project_id"
##   .. .. ..$ value: chr "TCGA-OV"
##   ..$ :List of 2
##   .. ..$ op     :Classes 'scalar', 'character'  chr "="
##   .. ..$ content:List of 2
##   .. .. ..$ field: chr "type"
##   .. .. ..$ value: chr "gene_expression"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qfiles <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>()</code></pre></div>
<pre><code>## [1] 1137</code></pre>
<p>Asking for a <code><a href="../reference/count.html">count()</a></code> of results given these new filter criteria gives 1137 results. Generating a manifest for bulk downloads is as simple as asking for the manifest from the current query.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">manifest_df =<span class="st"> </span>qfiles <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/manifest.html">manifest</a></span>()
<span class="kw">head</span>(manifest_df)</code></pre></div>
<pre><code>## # A tibble: 6 x 5
##                                     id
##                                  &lt;chr&gt;
## 1 ae81b121-4ee4-40b2-ab69-5821d992c0e5
## 2 af86f9fc-c9fd-4ce3-a842-c1a718feba60
## 3 0fcd50f3-71b0-4c52-8468-42561f4d60a8
## 4 a12332f0-a812-4379-b46c-e714b63f43bc
## 5 103d151d-2c67-4b4f-aade-8afbd106146f
## 6 37947dd8-72b2-493a-bc4b-d45699c04389
## # ... with 4 more variables: filename &lt;chr&gt;, md5 &lt;chr&gt;, size &lt;int&gt;,
## #   state &lt;chr&gt;</code></pre>
<p>Note that we might still not be quite there. Looking at filenames, there are suspiciously named files that might include “FPKM”, “FPKM-UQ”, or “counts”. Another round of <code>grep</code> and <code>available_fields</code>, looking for “type” turned up that the field “analysis.workflow_type” has the appropriate filter criteria.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qfiles =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>( <span class="op">~</span><span class="st"> </span>cases.project.project_id <span class="op">==</span><span class="st"> 'TCGA-OV'</span> <span class="op">&amp;</span>
<span class="st">                            </span>type <span class="op">==</span><span class="st"> 'gene_expression'</span> <span class="op">&amp;</span>
<span class="st">                            </span>analysis.workflow_type <span class="op">==</span><span class="st"> 'HTSeq - Counts'</span>)
manifest_df =<span class="st"> </span>qfiles <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/manifest.html">manifest</a></span>()
<span class="kw">nrow</span>(manifest_df)</code></pre></div>
<pre><code>## [1] 379</code></pre>
<p>The GDC Data Transfer Tool can be used (from R, <code><a href="../reference/transfer.html">transfer()</a></code> or from the command-line) to orchestrate high-performance, restartable transfers of all the files in the manifest. See <a href="bulk-downloads">the bulk downloads section</a> for details.</p>
</div>
</div>
<div id="authentication" class="section level2">
<h2 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h2>
<p><a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#facets">[ GDC authentication documentation ]</a></p>
<p>The GDC offers both “controlled-access” and “open” data. As of this writing, only data stored as files is “controlled-access”; that is, metadata accessible via the GDC is all “open” data and some files are “open” and some are “controlled-access”. Controlled-access data are only available after <a href="https://gdc.cancer.gov/access-data/obtaining-access-controlled-data">going through the process of obtaining access.</a></p>
<p>After controlled-access to one or more datasets has been granted, logging into the GDC web portal will allow you to <a href="https://docs.gdc.cancer.gov/Data_Portal/Users_Guide/Authentication/#gdc-authentication-tokens">access a GDC authentication token</a>, which can be downloaded and then used to access available controlled-access data via the GenomicDataCommons package.</p>
<p>The GenomicDataCommons uses authentication tokens only for downloading data (see <code>transfer</code> and <code>gdcdata</code> documentation). The package includes a helper function, <code>gdc_token</code>, that looks for the token to be stored in one of three ways (resolved in this order):</p>
<ol style="list-style-type: decimal">
<li>As a string stored in the environment variable, <code>GDC_TOKEN</code>
</li>
<li>As a file, stored in the file named by the environment variable, <code>GDC_TOKEN_FILE</code>
</li>
<li>In a file in the user home directory, called <code>.gdc_token</code>
</li>
</ol>
<p>As a concrete example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">token =<span class="st"> </span><span class="kw"><a href="../reference/gdc_token.html">gdc_token</a></span>()
<span class="kw"><a href="../reference/transfer.html">transfer</a></span>(...,<span class="dt">token=</span>token)
<span class="co"># or</span>
<span class="kw"><a href="../reference/transfer.html">transfer</a></span>(...,<span class="dt">token=</span><span class="kw">get_token</span>())</code></pre></div>
</div>
<div id="datafile-access-and-download" class="section level2">
<h2 class="hasAnchor">
<a href="#datafile-access-and-download" class="anchor"></a>Datafile access and download</h2>
<div id="data-downloads-via-the-gdc-api" class="section level3">
<h3 class="hasAnchor">
<a href="#data-downloads-via-the-gdc-api" class="anchor"></a>Data downloads via the GDC API</h3>
<p>The <code>gdcdata</code> function takes a character vector of one or more file ids. A simple way of producing such a vector is to produce a <code>manifest</code> data frame and then pass in the first column, which will contain file ids.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fnames =<span class="st"> </span><span class="kw"><a href="../reference/gdcdata.html">gdcdata</a></span>(manifest_df<span class="op">$</span>id[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],<span class="dt">progress=</span><span class="ot">FALSE</span>)</code></pre></div>
<p>Note that for controlled-access data, a GDC <a href="#authentication">authentication token</a> is required. Using the <code>BiocParallel</code> package may be useful for downloading in parallel, particularly for large numbers of smallish files.</p>
</div>
<div id="bulk-downloads" class="section level3">
<h3 class="hasAnchor">
<a href="#bulk-downloads" class="anchor"></a>Bulk downloads</h3>
<p>The bulk download functionality is only efficient (as of v1.2.0 of the GDC Data Transfer Tool) for relatively large files, so use this approach only when transferring BAM files or larger VCF files, for example. Otherwise, consider using the approach shown above, perhaps in parallel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mfile =<span class="st"> </span><span class="kw">tempfile</span>()
<span class="kw">write.table</span>(manifest_df[<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>,],mfile,
            <span class="dt">col.names=</span><span class="ot">TRUE</span>, <span class="dt">row.names=</span><span class="ot">FALSE</span>, <span class="dt">quote=</span><span class="ot">FALSE</span>,<span class="dt">sep=</span><span class="st">"</span><span class="ch">\t</span><span class="st">"</span>)
<span class="kw"><a href="../reference/transfer.html">transfer</a></span>(mfile,<span class="dt">gdc_client=</span><span class="st">'gdc-client'</span>)</code></pre></div>
<pre><code>## [1] "/var/folders/21/b_rp6qyj1_b1j5cp8qby0tnr0000gn/T//Rtmp2IAw9P/file11e79670989de"</code></pre>
</div>
<div id="bam-slicing" class="section level3">
<h3 class="hasAnchor">
<a href="#bam-slicing" class="anchor"></a>BAM slicing</h3>
</div>
</div>
</div>
<div id="use-cases" class="section level1">
<h1 class="hasAnchor">
<a href="#use-cases" class="anchor"></a>Use Cases</h1>
<div id="cases" class="section level2">
<h2 class="hasAnchor">
<a href="#cases" class="anchor"></a>Cases</h2>
<div id="how-many-cases-are-there-per-project_id" class="section level3">
<h3 class="hasAnchor">
<a href="#how-many-cases-are-there-per-project_id" class="anchor"></a>How many cases are there per project_id?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="st">"project.project_id"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()
<span class="kw">head</span>(res)</code></pre></div>
<pre><code>## $project.project_id
##            key doc_count
## 1   TARGET-NBL      1127
## 2    TCGA-BRCA      1098
## 3   TARGET-AML       988
## 4    TARGET-WT       652
## 5     TCGA-GBM       617
## 6      TCGA-OV       608
## 7    TCGA-LUAD       585
## 8    TCGA-UCEC       560
## 9    TCGA-KIRC       537
## 10   TCGA-HNSC       528
## 11    TCGA-LGG       516
## 12   TCGA-THCA       507
## 13   TCGA-LUSC       504
## 14   TCGA-PRAD       500
## 15   TCGA-SKCM       470
## 16   TCGA-COAD       461
## 17   TCGA-STAD       443
## 18   TCGA-BLCA       412
## 19   TARGET-OS       381
## 20   TCGA-LIHC       377
## 21   TCGA-CESC       307
## 22   TCGA-KIRP       291
## 23   TCGA-SARC       261
## 24   TCGA-LAML       200
## 25   TCGA-ESCA       185
## 26   TCGA-PAAD       185
## 27   TCGA-PCPG       179
## 28   TCGA-READ       172
## 29   TCGA-TGCT       150
## 30   TCGA-THYM       124
## 31   TCGA-KICH       113
## 32    TCGA-ACC        92
## 33   TCGA-MESO        87
## 34    TCGA-UVM        80
## 35   TARGET-RT        75
## 36   TCGA-DLBC        58
## 37    TCGA-UCS        57
## 38   TCGA-CHOL        51
## 39 TARGET-CCSK        13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(res<span class="op">$</span>project.project_id,<span class="kw">aes</span>(<span class="dt">x =</span> key, <span class="dt">y =</span> doc_count)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">'identity'</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) </code></pre></div>
<p><img src="overview_files/figure-html/casesPerProject-1.png" width="672"></p>
</div>
<div id="how-many-cases-are-included-in-all-target-projects" class="section level3">
<h3 class="hasAnchor">
<a href="#how-many-cases-are-included-in-all-target-projects" class="anchor"></a>How many cases are included in all TARGET projects?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>project.program.name<span class="op">==</span><span class="st">'TARGET'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>()</code></pre></div>
<pre><code>## [1] 3236</code></pre>
</div>
<div id="how-many-cases-are-included-in-all-tcga-projects" class="section level3">
<h3 class="hasAnchor">
<a href="#how-many-cases-are-included-in-all-tcga-projects" class="anchor"></a>How many cases are included in all TCGA projects?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>project.program.name<span class="op">==</span><span class="st">'TCGA'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/count.html">count</a></span>()</code></pre></div>
<pre><code>## [1] 11315</code></pre>
</div>
<div id="what-is-the-breakdown-of-sample-types-in-tcga-brca" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-the-breakdown-of-sample-types-in-tcga-brca" class="anchor"></a>What is the breakdown of sample types in TCGA-BRCA?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The need to do the "&amp;" here is a requirement of the</span>
<span class="co"># current version of the GDC API. I have filed a feature</span>
<span class="co"># request to remove this requirement.</span>
resp =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>project.project_id<span class="op">==</span><span class="st">'TCGA-BRCA'</span> <span class="op">&amp;</span>
<span class="st">                              </span>project.project_id<span class="op">==</span><span class="st">'TCGA-BRCA'</span> ) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="st">'samples.sample_type'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()
resp<span class="op">$</span>samples.sample_type</code></pre></div>
<pre><code>##                    key doc_count
## 1        Primary Tumor      1098
## 2 Blood Derived Normal      1011
## 3  Solid Tissue Normal       162
## 4           Metastatic         7</code></pre>
</div>
<div id="fetch-all-samples-in-tcga-brca-that-use-solid-tissue-as-a-normal-" class="section level3">
<h3 class="hasAnchor">
<a href="#fetch-all-samples-in-tcga-brca-that-use-solid-tissue-as-a-normal-" class="anchor"></a>Fetch all samples in TCGA-BRCA that use “Solid Tissue” as a normal.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The need to do the "&amp;" here is a requirement of the</span>
<span class="co"># current version of the GDC API. I have filed a feature</span>
<span class="co"># request to remove this requirement.</span>
resp =<span class="st"> </span><span class="kw"><a href="../reference/query.html">cases</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>project.project_id<span class="op">==</span><span class="st">'TCGA-BRCA'</span> <span class="op">&amp;</span>
<span class="st">                              </span>samples.sample_type<span class="op">==</span><span class="st">'Solid Tissue Normal'</span>) <span class="op">%&gt;%</span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="kw">c</span>(<span class="kw"><a href="../reference/default_fields.html">default_fields</a></span>(<span class="kw"><a href="../reference/query.html">cases</a></span>()),<span class="st">'samples.sample_type'</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/response.html">response_all</a></span>()
<span class="kw"><a href="../reference/count.html">count</a></span>(resp)</code></pre></div>
<pre><code>## [1] 162</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res =<span class="st"> </span>resp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/results.html">results</a></span>()
<span class="kw">str</span>(res[<span class="dv">1</span>],<span class="dt">list.len=</span><span class="dv">6</span>)</code></pre></div>
<pre><code>## List of 1
##  $ updated_datetime: chr [1:162] "2017-03-04T16:39:19.244769-06:00" "2017-03-04T16:39:19.244769-06:00" "2017-03-04T16:39:19.244769-06:00" "2017-03-04T16:39:19.244769-06:00" ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw"><a href="../reference/ids.html">ids</a></span>(resp))</code></pre></div>
<pre><code>## [1] "858652b8-c4c2-41d8-be32-fdc88e1a7bb0"
## [2] "2680da86-c977-4611-b75f-df015283c023"
## [3] "96b9c7db-1be1-4b60-b47c-26b654c3d64c"
## [4] "d9fd2724-7db0-4af3-ac14-217bdfa5203f"
## [5] "7b892055-c59d-4550-8688-ad039790af3d"
## [6] "ec0ab947-9341-4fff-bda4-fdfb9434d508"</code></pre>
</div>
</div>
<div id="files" class="section level2">
<h2 class="hasAnchor">
<a href="#files" class="anchor"></a>Files</h2>
<div id="how-many-of-each-type-of-file-are-available" class="section level3">
<h3 class="hasAnchor">
<a href="#how-many-of-each-type-of-file-are-available" class="anchor"></a>How many of each type of file are available?</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="st">'type'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()
res<span class="op">$</span>type</code></pre></div>
<pre><code>##                            key doc_count
## 1                aligned_reads     45988
## 2   annotated_somatic_mutation     45577
## 3      simple_somatic_mutation     45577
## 4          copy_number_segment     44752
## 5              gene_expression     34722
## 6             mirna_expression     22976
## 7       methylation_beta_value     12359
## 8       biospecimen_supplement     11328
## 9          clinical_supplement     11169
## 10 aggregated_somatic_mutation       144
## 11     masked_somatic_mutation       132</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(res<span class="op">$</span>type,<span class="kw">aes</span>(<span class="dt">x =</span> key,<span class="dt">y =</span> doc_count)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">'identity'</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))     </code></pre></div>
<p><img src="overview_files/figure-html/filesVCFCount-1.png" width="672"></p>
</div>
<div id="find-gene-level-rna-seq-quantification-files-for-gbm" class="section level3">
<h3 class="hasAnchor">
<a href="#find-gene-level-rna-seq-quantification-files-for-gbm" class="anchor"></a>Find gene-level RNA-seq quantification files for GBM</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">q =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'files'</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>cases.project.project_id<span class="op">==</span><span class="st">'TCGA-GBM'</span> <span class="op">&amp;</span>
<span class="st">               </span>data_type<span class="op">==</span><span class="st">'Gene Expression Quantification'</span>)
q <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/faceting.html">facet</a></span>(<span class="st">'analysis.workflow_type'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/aggregations.html">aggregations</a></span>()</code></pre></div>
<pre><code>## $analysis.workflow_type
##               key doc_count
## 1  HTSeq - Counts       174
## 2    HTSeq - FPKM       174
## 3 HTSeq - FPKM-UQ       174</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># so need to add another filter</span>
file_ids =<span class="st"> </span>q <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>cases.project.project_id<span class="op">==</span><span class="st">'TCGA-GBM'</span> <span class="op">&amp;</span>
<span class="st">                            </span>data_type<span class="op">==</span><span class="st">'Gene Expression Quantification'</span> <span class="op">&amp;</span>
<span class="st">                            </span>analysis.workflow_type <span class="op">==</span><span class="st"> 'HTSeq - Counts'</span>) <span class="op">%&gt;%</span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="st">'file_id'</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/response.html">response_all</a></span>() <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/ids.html">ids</a></span>()</code></pre></div>
</div>
</div>
<div id="slicing" class="section level2">
<h2 class="hasAnchor">
<a href="#slicing" class="anchor"></a>Slicing</h2>
<div id="get-all-bam-file-ids-from-tcga-gbm" class="section level3">
<h3 class="hasAnchor">
<a href="#get-all-bam-file-ids-from-tcga-gbm" class="anchor"></a>Get all BAM file ids from TCGA-GBM</h3>
<p><strong>I need to figure out how to do slicing reproducibly in a testing environment and for vignette building</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">q =<span class="st"> </span><span class="kw"><a href="../reference/query.html">files</a></span>() <span class="op">%&gt;%</span>
<span class="st">    </span>GenomicDataCommons<span class="op">::</span><span class="kw"><a href="../reference/select.html">select</a></span>(<span class="kw"><a href="../reference/available_fields.html">available_fields</a></span>(<span class="st">'files'</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw"><a href="../reference/filtering.html">filter</a></span>(<span class="op">~</span><span class="st"> </span>cases.project.project_id <span class="op">==</span><span class="st"> 'TCGA-GBM'</span> <span class="op">&amp;</span>
<span class="st">               </span>data_type <span class="op">==</span><span class="st"> 'Aligned Reads'</span> <span class="op">&amp;</span>
<span class="st">               </span>experimental_strategy <span class="op">==</span><span class="st"> 'RNA-Seq'</span> <span class="op">&amp;</span>
<span class="st">               </span>data_format <span class="op">==</span><span class="st"> 'BAM'</span>)
file_ids =<span class="st"> </span>q <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/response.html">response_all</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/ids.html">ids</a></span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bamfile =<span class="st"> </span><span class="kw"><a href="../reference/slicing.html">slicing</a></span>(file_ids[<span class="dv">1</span>],<span class="dt">regions=</span><span class="st">"chr12:6534405-6538375"</span>,<span class="dt">token=</span><span class="kw"><a href="../reference/gdc_token.html">gdc_token</a></span>())
<span class="kw">library</span>(GenomicAlignments)
aligns =<span class="st"> </span><span class="kw">readGAlignments</span>(bamfile)</code></pre></div>
</div>
</div>
</div>
<div id="troubleshooting" class="section level1">
<h1 class="hasAnchor">
<a href="#troubleshooting" class="anchor"></a>Troubleshooting</h1>
<div id="ssl-connection-errors" class="section level2">
<h2 class="hasAnchor">
<a href="#ssl-connection-errors" class="anchor"></a>SSL connection errors</h2>
<ul>
<li>
<p>Symptom: Trying to connect to the API results in:</p>
<pre><code>Error in curl::curl_fetch_memory(url, handle = handle) : 
SSL connect error</code></pre>
</li>
<li>Possible solutions: The <a href="http://stackoverflow.com/a/42599546/459633">issue is that the GDC supports only recent security Transport Layer Security (TLS)</a>, so the only known fix is to upgrade the system <code>openssl</code> to version 1.0.1 or later.
<ul>
<li>
<a href="https://github.com/Bioconductor/GenomicDataCommons/issues/35#issuecomment-284233510">[Mac OS]</a>,</li>
<li><a href="http://askubuntu.com/a/434245">[Ubuntu]</a></li>
<li>
<a href="https://www.liquidweb.com/kb/update-and-patch-openssl-for-the-ccs-injection-vulnerability/">[Centos/RHEL]</a>.<br>
After upgrading <code>openssl</code>, reinstall the R <code>curl</code> and <code>httr</code> packages.</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="sessioninfo" class="section level1">
<h1 class="hasAnchor">
<a href="#sessioninfo" class="anchor"></a>sessionInfo()</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sessionInfo</span>()</code></pre></div>
<pre><code>## R version 3.4.1 (2017-06-30)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Sierra 10.12.4
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  base     
## 
## other attached packages:
## [1] ggplot2_2.2.1.9000       DT_0.2                  
## [3] GenomicDataCommons_1.1.3 magrittr_1.5            
## [5] knitr_1.17              
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_0.12.12            plyr_1.8.4             
##  [3] compiler_3.4.1          GenomeInfoDb_1.12.2    
##  [5] XVector_0.16.0          methods_3.4.1          
##  [7] bitops_1.0-6            tools_3.4.1            
##  [9] zlibbioc_1.22.0         digest_0.6.12          
## [11] jsonlite_1.5            evaluate_0.10.1        
## [13] tibble_1.3.4            gtable_0.2.0           
## [15] rlang_0.1.2             curl_2.8.1             
## [17] yaml_2.1.14             parallel_3.4.1         
## [19] GenomeInfoDbData_0.99.0 stringr_1.2.0          
## [21] httr_1.2.1              xml2_1.1.1             
## [23] S4Vectors_0.14.3        htmlwidgets_0.9        
## [25] IRanges_2.10.2          hms_0.3                
## [27] stats4_3.4.1            rprojroot_1.2          
## [29] grid_3.4.1              data.table_1.10.4      
## [31] R6_2.2.2                rmarkdown_1.6          
## [33] readr_1.1.1             backports_1.1.0        
## [35] scales_0.5.0.9000       htmltools_0.3.6        
## [37] BiocGenerics_0.22.0     GenomicRanges_1.28.4   
## [39] colorspace_1.3-2        labeling_0.3           
## [41] stringi_1.1.5           munsell_0.4.3          
## [43] RCurl_1.95-4.8          lazyeval_0.2.0</code></pre>
</div>
<div id="developer-notes" class="section level1">
<h1 class="hasAnchor">
<a href="#developer-notes" class="anchor"></a>Developer notes</h1>
<ul>
<li>The <code>S3</code> object-oriented programming paradigm is used.</li>
<li>We have adopted a functional programming style with functions and methods that often take an “object” as the first argument. This style lends itself to pipeline-style programming.</li>
<li>The GenomicDataCommons package uses the <a href="https://docs.gdc.cancer.gov/API/Users_Guide/Search_and_Retrieval/#alternative-request-format">alternative request format (POST)</a> to allow very large request bodies.</li>
</ul>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>See individual function and methods documentation for specific details.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#what-is-the-gdc">What is the GDC?</a></li>
      <li>
<a href="#quickstart">Quickstart</a><ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#check-basic-functionality">Check basic functionality</a></li>
      <li><a href="#find-data">Find data</a></li>
      <li><a href="#download-data">Download data</a></li>
      <li><a href="#metadata-queries">Metadata queries</a></li>
      </ul>
</li>
      <li>
<a href="#usage">Usage</a><ul class="nav nav-pills nav-stacked">
<li><a href="#querying-metadata">Querying metadata</a></li>
      <li><a href="#authentication">Authentication</a></li>
      <li><a href="#datafile-access-and-download">Datafile access and download</a></li>
      </ul>
</li>
      <li>
<a href="#use-cases">Use Cases</a><ul class="nav nav-pills nav-stacked">
<li><a href="#cases">Cases</a></li>
      <li><a href="#files">Files</a></li>
      <li><a href="#slicing">Slicing</a></li>
      </ul>
</li>
      <li>
<a href="#troubleshooting">Troubleshooting</a><ul class="nav nav-pills nav-stacked">
<li><a href="#ssl-connection-errors">SSL connection errors</a></li>
      </ul>
</li>
      <li><a href="#sessioninfo">sessionInfo()</a></li>
      <li><a href="#developer-notes">Developer notes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Martin Morgan, Davis Sean.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
